import React, { useState } from "react";
import GameWriter from "../../components/GameWriter";
import GameAlert from "../../components/GameAlert";
import { Row, Col } from "react-bootstrap";
import { Button } from "react-bootstrap";
import Ransomware from "../../img/ransomware.jpeg";

export default function ThirdLevelRansomwareChoice(props) {
  const handleSwitchToFour = () => {
    props.handleLevel("fourth");
  };

  const handleAlert1 = () => {
    setIsAlert1(true);
    props.right();
    props.updateScore(3);
  };

  const handleAlert2 = () => {
    setIsAlert2(true);
    props.right();
    props.updateScore(3);
  };

  const handleAlert3 = () => {
    setIsAlert3(true);
    props.wrong();
  };

  const handleAlert4 = () => {
    setIsAlert4(true);
    props.wrong();
  };

  const [isAlert1, setIsAlert1] = useState(false);
  const [isAlert2, setIsAlert2] = useState(false);
  const [isAlert3, setIsAlert3] = useState(false);
  const [isAlert4, setIsAlert4] = useState(false);

  const alertRight1 = {
    head: "Right Answer!",
    text: "It is the best solution, the only one that should be taken into consideration if we have worked carefully and organized ourselves with a correct periodic saving policy for our data. To do a restore you need to have a backup copy that is available, recent, and functional.",
  };

  const alertRight2 = {
    head: "Right Answer!",
    text: "The best solution would be to have backup files to restore. But this option is also correct, in fact, the decrypter is a sort of antidote against ransomware. For some less efficient versions of ransomware, programs and tools capable of recovering encrypted files have been created and made available on the net, but these are still complex procedures.",
  };

  const alertWrong1 = {
    head: "Wrong Answer!",
    text: "It is not an exciting choice and it can rarely be done, especially for a company. Unless the encrypted data is really of little importance.",
  };

  const alertWrong2 = {
    head: "Wrong Answer!",
    text: "It is obviously the worst solution, the one that should never be reached: if we pay we feed crime and make it even richer and stronger. But even if you pay, you have no guarantee of getting your data back: always remember that there are criminals on the other side.",
  };

  return (
    <>
      <GameWriter
        text={
          "In the event of a ransomware attack, there are four possible hypotheses. What do you think is the best choice to make?"
        }
      />
      <Row style={{ marginTop: "20px" }}>
        <Col className="col-2"></Col>
        <Col>
          <Row>
            <Col className="col-1"></Col>
            <Col>
              <Button variant="dark" onClick={handleAlert1}>
                Restore files from a backup
              </Button>
            </Col>
            <Col>
              <Button variant="dark" onClick={handleAlert2}>
                Look for a decryptor on internet
              </Button>
            </Col>
            <Col>
              <Button variant="dark" onClick={handleAlert3}>
                Do nothing and lose your data
              </Button>
            </Col>
            <Col>
              <Button variant="dark" onClick={handleAlert4}>
                Pay ransom
              </Button>
            </Col>
            <Col className="col-1"></Col>
          </Row>
          {isAlert1 && (
            <GameAlert
              show={isAlert1}
              alert={alertRight1}
              callBack={handleSwitchToFour}
            />
          )}
          {isAlert2 && (
            <GameAlert
              show={isAlert2}
              alert={alertRight2}
              callBack={handleSwitchToFour}
            />
          )}
          {isAlert3 && (
            <GameAlert
              show={isAlert3}
              alert={alertWrong1}
              callBack={handleSwitchToFour}
            />
          )}
          {isAlert4 && (
            <GameAlert
              show={isAlert4}
              alert={alertWrong2}
              callBack={handleSwitchToFour}
            />
          )}
        </Col>
        <Col className="col-2"></Col>
      </Row>
      <div>
        <img src={Ransomware} alt="img" width={1000} height={430} />
      </div>
    </>
  );
}
