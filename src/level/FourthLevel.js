import React from "react";
import { Container } from "react-bootstrap";
import FourthLevelIntro from "../scenarios/fourth_level/FourthLevelIntro";
import FourthLevelDownload from "../scenarios/fourth_level/FourthLevelDownload";
import FourthLevelDownloadSoft from "../scenarios/fourth_level/FourthLevelDownloadSoft";
import FourthLevelUac from "../scenarios/fourth_level/FourthLevelUac";
import FourthLevelUacSoft from "../scenarios/fourth_level/FourthLevelUacSoft";
import FourthLevelClosePopUp from "../scenarios/fourth_level/FourthLevelClosePopUp";

class FourthLevel extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      actualScenario: "intro",
    };
  }

  handleScenario = (scenario) => {
    this.setState({ actualScenario: scenario });
  };

  switchToReport = () => {
    this.props.handleLevel("report");
    this.props.updateInfo();
  };

  renderScenario() {
    switch (this.state.actualScenario) {
      case "intro":
        return (
          <FourthLevelIntro
            handleScenario={this.handleScenario}
            updateScore={this.props.updateScore}
            right={this.props.right}
            wrong={this.props.wrong}
          />
        );
      case "close_popup":
        return (
          <FourthLevelClosePopUp
            handleScenario={this.handleScenario}
            right={this.props.right}
            wrong={this.props.wrong}
          />
        );
      case "download":
        return (
          <FourthLevelDownload
            handleScenario={this.handleScenario}
            updateScore={this.props.updateScore}
            right={this.props.right}
            wrong={this.props.wrong}
          />
        );
      case "download_soft":
        return (
          <FourthLevelDownloadSoft
            handleScenario={this.handleScenario}
            handleLevel={this.switchToReport}
            updateScore={this.props.updateScore}
            updateInfo={this.props.updateInfo}
            right={this.props.right}
            wrong={this.props.wrong}
          />
        );
      case "uac":
        return (
          <FourthLevelUac
            handleScenario={this.handleScenario}
            updateScore={this.props.updateScore}
            handleLevel={this.switchToReport}
            updateInfo={this.props.updateInfo}
            right={this.props.right}
            wrong={this.props.wrong}
          />
        );
      case "uac_soft":
        return (
          <FourthLevelUacSoft
            handleScenario={this.handleScenario}
            updateScore={this.props.updateScore}
            handleLevel={this.switchToReport}
            updateInfo={this.props.updateInfo}
            right={this.props.right}
            wrong={this.props.wrong}
          />
        );
      default:
        return null;
    }
  }

  render() {
    return <Container>{this.renderScenario()}</Container>;
  }
}

export default FourthLevel;
